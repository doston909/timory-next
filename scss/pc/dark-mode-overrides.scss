/**
 * Dark mode overrides when .theme-dark is on <html>
 * Loaded last so these override default light styles.
 */
.theme-dark {
  &,
  body {
    background-color: #121212 !important;
  }

  #pc-wrap {
    background-color: #121212;
    color: #e4e4e4;
  }

  #top {
    .navbar .head {
      background-color: #1e1e1e;
    }

    .navbar .container {
      background-color: #1e1e1e !important;
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.4);

      &.scrolled {
        background-color: rgba(30, 30, 30, 0.92) !important;
      }
    }

    .router-box .nav-item {
      color: #e4e4e4 !important;

      &:hover {
        color: #f09620 !important;
      }

      &.active {
        color: #f09620 !important;

        span::after {
          background: #f09620 !important;
          width: 100%;
        }
      }
    }

    .lang-box svg {
      color: #e4e4e4;
    }

    .lang-box svg:hover {
      color: #f09620;
    }

    .search-modal-content {
      background: #1e1e1e !important;
    }

    .search-input-wrapper {
      border-color: rgba(255, 255, 255, 0.23);
      background: rgba(255, 255, 255, 0.05) !important;

      &:focus-within {
        border-color: #D4AF37;
        background: rgba(255, 255, 255, 0.08) !important;
      }

      .search-input {
        color: #e4e4e4 !important;

        &::placeholder {
          color: #888;
        }
      }
    }

    .search-suggestions-title {
      color: #b0b0b0 !important;
    }

    .search-tag {
      background: #2a2a2a;
      border-color: rgba(255, 255, 255, 0.2);
      color: #e4e4e4;

      &:hover {
        background: #D4AF37;
        border-color: #D4AF37;
        color: #121212;
      }
    }

    .cart-modal-content,
    .notification-modal-content {
      background: #1e1e1e !important;
    }

    .cart-modal-header {
      background-color: #252525 !important;
      border-bottom-color: rgba(255, 255, 255, 0.12);

      .cart-modal-title {
        color: #e4e4e4 !important;
      }
    }

    .cart-empty-state .cart-empty-text {
      color: #b0b0b0 !important;
    }

    .cart-table-header {
      background-color: #252525 !important;

      .MuiTableCell-root {
        color: #e4e4e4 !important;
        border-bottom-color: rgba(255, 255, 255, 0.12) !important;
      }
    }

    .MuiTableBody-root .MuiTableRow-root .MuiTableCell-root {
      color: #e4e4e4 !important;
      border-bottom-color: rgba(255, 255, 255, 0.08) !important;

      .MuiTypography-root {
        color: #e4e4e4 !important;
      }

      .MuiIconButton-root {
        background-color: #2a2a2a !important;

        svg {
          color: #D4AF37 !important;
        }

        &:hover {
          background-color: #3a3a3a !important;
          svg {
            color: #e5c28c !important;
          }
        }
      }
    }

    .user-menu-item {
      color: #e4e4e4 !important;

      &:hover {
        background: rgba(255, 255, 255, 0.08) !important;
      }
    }
  }

  #main {
    background-color: #121212 !important;
    color: #e4e4e4;
  }

  .header-basic .container strong,
  .header-basic .container span,
  .MuiTypography-root.header-page-title,
  .MuiTypography-root.header-breadcrumb {
    color: #e4e4e4 !important;
  }

  #footer {
    background: #0d0d0f !important;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
  }
}

.theme-dark {
  /* See All links under homepage sections */
  .dealers-see-all-wrapper {
    .see-all-text {
      color: #ffffff !important;

      .see-all-arrow {
        color: #ffffff !important;
      }
    }
  }

  /* Newsletter arrow in News section */
  .news-subscribe-arrow {
    color: #ffffff !important;
  }

  .news-subscribe-btn:hover {
    color: #ffffff !important;
  }

  /* Newsletter email input background transparent in dark mode */
  .news-email-input {
    :global(.MuiInputBase-root) {
      background-color: transparent !important;
    }

    input {
      background-color: transparent !important;
    }
  }

  /* Newsletter email icon white in dark mode */
  .news-envelope-icon {
    filter: brightness(0) invert(1);
  }

  /* TopBrands section background in dark mode */
  .top-brands-section {
    background: #b1b1b1 !important;
  }
}

/* Page-level dark overrides (mypage, dealer, watch, community, etc.) */
.theme-dark {
  [class*="mypage-"],
  [class*="dealer-"],
  [class*="watch-"],
  [class*="community-"],
  [class*="account-"],
  [class*="about-"],
  [class*="cs-"] {
    --dm-bg: #1e1e1e;
    --dm-bg-alt: #252525;
    --dm-text: #e4e4e4;
    --dm-text-muted: #b0b0b0;
    --dm-border: rgba(255, 255, 255, 0.12);
  }
}

.theme-dark {
  .mypage-wrap,
  .mypage-profile-section,
  .mypage-content-box,
  .mypage-articles-box,
  .mypage-watches-container,
  .mypage-article-card,
  .mypage-watch-item,
  .dealer-detail-page .container,
  .watch-detail-page,
  .watch-list-page,
  .community-detail-page,
  .account-page,
  .cs-page {
    background-color: #1c222f !important;
    color: #e8e8e8;
    border-color: rgba(255, 255, 255, 0.12);
  }

  /* watch-filter-sidebar (filter sidebar) */
  .watch-filter-sidebar {
    background-color: transparent;
    color: #e4e4e4;

    .filter-main {
      background-color: #1B253B !important;
      border-color: rgba(255, 255, 255, 0.12) !important;
      color: #e4e4e4;

      .find-your-watch .MuiIconButton-root {
        color: #e9e9e9 !important;
      }

      .find-your-watch .MuiIconButton-root:hover {
        color: #f9a63b !important;
      }

      .filter-section .MuiSvgIcon-root {
        color: #e9e9e9 !important;
      }

      .filter-section .MuiSvgIcon-root:hover {
        color: #f9a63b !important;
      }

      .title,
      .label {
        color: #e4e4e4 !important;
      }

      .MuiInputLabel-root {
        color: #ffffff !important;
      }

      .filter-list {
        background-color: #263351 !important;
        border-color: rgba(255, 255, 255, 0.08);
      }

      .filter-section.open {
        background-color: #1B253B !important;
      }
    }
  }

  /* watch-list-header */
  .watch-list-header {
    background-color: #1B253B !important;
    border-color: rgba(255, 255, 255, 0.12) !important;
    color: #ffffff;

    .view-mode-toggle,
    .view-mode-toggle .view-btn {
      background-color: #3c509f !important;
      border-color: rgba(255, 255, 255, 0.08);
    }

    .view-mode-toggle .view-btn {
      &.active {
        background-color: #f9a63b !important;
        color: #000000 !important;
      }

      &:hover:not(.active) {
        background-color: rgba(249, 166, 59, 0.3) !important;
      }

      svg {
        color: #ffffff;
      }

      &.active svg {
        color: #1e1e1e !important;
      }
    }

    .filter-label {
      color: #b0b0b0 !important;
    }

    .filter-search-input {
      background-color: rgba(255, 255, 255, 0) !important;

      :global(.MuiOutlinedInput-notchedOutline) {
        border-color: rgba(255, 255, 255, 0.05) !important;
      }
    }

    .sort-select,
    .sort-select :global(.MuiOutlinedInput-root) {
      background-color: #1B253B !important;
    }

    .sort-select :global(.MuiOutlinedInput-notchedOutline) {
      border-color: rgba(255, 255, 255, 0.05) !important;
    }

    .sort-label {
      color: #b0b0b0 !important;
    }
  }

  /* watch-card (watch list grid/list) */
  .watch-card {
    background-color: #263351 !important;
    border-color: rgba(255, 255, 255, 0.12) !important;
    color: #e4e4e4;

    &:hover {
      border-color: rgba(255, 255, 255, 0.23);

      .watch-info {
        background-color: #07142a  !important;
      }
    }

    .watch-info {
      background-color: #07142a !important;
    }

    .watch-name {
      color: #c0c0c0 !important;
    }

    .watch-price {
      color: #e88a8a !important;
    }

    .watch-scroll-arrow {
      background: rgba(45, 45, 45, 0.95) !important;
      border-color: rgba(255, 255, 255, 0.2);

      svg {
        color: #e4e4e4 !important;
      }

      &:hover {
        background: #f9a63b !important;
        border-color: #f9a63b;

        svg {
          color: #1e1e1e !important;
        }
      }
    }

    .action-btn {
      background: rgba(255, 255, 255, 0.316) !important;

      svg {
        color: #f09620  !important;
      }
    }
  }

  /* watch/detail.tsx — watch detail page */
  .watch-detail-page {
    background-color: #1c222f !important;
    color: #e4e4e4;

    .watch-detail-main {
      background-color: #1c222f !important;
      border-color: rgba(255, 255, 255, 0.08);
    }

    .watch-image-section {
      background-color:  #1c222f !important;
      border-color: rgba(255, 255, 255, 0.08);
    }

    .watch-info-section {
      .watch-detail-name {
        color: #e4e4e4 !important;
      }

      .watch-details {
        border-top-color: rgba(255, 255, 255, 0.12);
        border-bottom-color: rgba(255, 255, 255, 0.12);

        .detail-label {
          color: #b0b0b0 !important;
        }

        .detail-value {
          color: #e4e4e4 !important;

          &.availability {
            color: #81c784 !important;
          }
        }

        .color-preview {
          border-color: rgba(255, 255, 255, 0.3);
        }
      }

      .quantity-selector .quantity-label,
      .quantity-controls .quantity-btn {
        color: #e4e4e4 !important;
      }

      .quantity-controls {
        border-color: rgba(255, 255, 255, 0.2);

        .quantity-btn {
          background-color: #252525 !important;

          &:hover {
            background-color: #333 !important;
          }
        }

        .quantity-input :global(.MuiOutlinedInput-root) {
          border-color: rgba(255, 255, 255, 0.2);
        }
      }

      .action-buttons .action-btn.add-to-cart-btn {
        background-color: #252525 !important;
        color: #e4e4e4;
        border-color: rgba(255, 255, 255, 0.3);

        &:hover {
          background-color: #f9a63b !important;
          color: #1e1e1e;
          border-color: #f9a63b;
        }
      }

      .action-buttons .action-btn.wishlist-btn {
        background-color: transparent !important;
        color: #e4e4e4;
        border-color: rgba(255, 255, 255, 0.3);

        &:hover {
          border-color: #f9a63b;
          color: #f9a63b;
        }
      }

      .action-buttons .action-btn.contact-dealer-btn {
        background-color: #252525 !important;
        color: #e4e4e4;
        border-color: rgba(255, 255, 255, 0.3);

        &:hover {
          background-color: #f9a63b !important;
          color: #000000;
          border-color: #f9a63b;
        }
      }

      .engagement-metrics {
        background-color: #252525 !important;
        border: 1px solid rgba(255, 255, 255, 0.12);

        .metric-icon {
          color: #f9a63b !important;
        }

        .metric-text {
          color: #e4e4e4 !important;
        }
      }
    }

    .watch-scroll-arrow {
      background: rgba(45, 45, 45, 0.95) !important;
      border-color: rgba(255, 255, 255, 0.2);

      svg {
        color: #e4e4e4 !important;
      }

      &:hover {
        background: #f9a63b !important;
        border-color: #f9a63b;

        svg {
          color: #1e1e1e !important;
        }
      }
    }

    .watch-back-wrapper .see-all-text,
    .watch-back-wrapper .see-all-arrow {
      color: #e4e4e4 !important;
    }

    .watch-back-wrapper .see-all-text:hover {
      color: #f9a63b !important;

      .see-all-arrow {
        color: #f9a63b !important;
      }
    }

    /* Description, Shopping Information, Reviews tabs */
    .watch-tabs {
      :global(.MuiTab-root) {
        background-color: #252525 !important;
        color: #e4e4e4 !important;
        border-color: rgba(255, 255, 255, 0.3) !important;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;

        &:hover {
          color: #f9a63b !important;
          border-color: #f9a63b !important;
          background-color: #2d2d2d !important;
        }

        &.Mui-selected {
          color: #ffffff !important;
          border-color: #f9a63b !important;
          background-color: #263351 !important;
        }
      }

      :global(.MuiTabs-indicator) {
        background-color: #f9a63b !important;
      }
    }

    .watch-tabs-section {
      background-color:  #263351 !important;
      border-color: rgba(255, 255, 255, 0.08);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
      overflow: hidden;

      &.reviews-active {
        background-color:  #263351 !important;
      }

      .tab-content,
      .description-content,
      .shipping-content {
        color: #e4e4e4;
      }
    }

    .reviews-content {
      background-color:  #263351 !important;
      color: #e4e4e4;
      overflow: hidden;

      .reviews-title-wrapper .reviews-title-icon {
        color: #f9a63b !important;
      }

      .reviews-title-wrapper .reviews-title {
        color: #e4e4e4 !important;
      }

      .reviews-list .review-item {
        background-color:  #20293d !important;
        border-color: rgba(255, 255, 255, 0.12) !important;

        .review-number {
          color: #b0b0b0 !important;
        }

        .review-meta {
          border-bottom-color: rgba(255, 255, 255, 0.12) !important;
        }

        .review-meta-item .review-meta-icon,
        .review-meta-item .review-meta-text {
          color: #b0b0b0 !important;
        }

        .review-text {
          color: #e4e4e4 !important;
        }

        .review-edited {
          color: #888 !important;
        }

        .review-reply-btn .reply-icon {
          color: #e4e4e4 !important;
        }

        .review-reply-btn:hover {
          background-color: rgba(249, 166, 59, 0.2);

          .reply-icon {
            color: #f9a63b !important;
          }
        }

        .review-like-btn {
          background-color: #5c5c5c !important;

          .like-icon {
            color: #b0b0b0 !important;
          }

          .like-badge {
            background-color: #f9a63b;
            color: #1e1e1e;
            border-color: #252525;
          }

          &:hover .like-icon,
          &.liked .like-icon {
            color: #f9a63b !important;
          }

          &.liked {
            background-color: rgba(249, 166, 59, 0.15) !important;
          }
        }
      }

      .no-reviews .no-reviews-text {
        color: #b0b0b0 !important;
      }

      .review-form {
        .review-form-title {
          color: #e4e4e4 !important;
        }

        .review-textarea {
          max-height: 212px !important;
          overflow: hidden !important;
        }

        .review-submit-wrapper {
          background-color: #263351 !important;
          position: relative !important;
          z-index: 1 !important;
        }

        .review-input :global(.MuiOutlinedInput-root) {
          background-color: #1e1e1e !important;
          border-color: rgba(255, 255, 255, 0.2) !important;

          fieldset {
            border-color: rgba(255, 255, 255, 0.2) !important;
          }

          &:hover fieldset {
            border-color: rgba(255, 255, 255, 0.35) !important;
          }

          &.Mui-focused fieldset {
            border-color: #f9a63b !important;
          }
        }

        .review-textarea :global(.MuiOutlinedInput-root) {
          background-color: transparent !important;
          border-color: rgba(255, 255, 255, 0.2) !important;
          min-height: 0 !important;
          height: 212px !important;
          overflow: hidden !important;

          fieldset {
            border-color: rgba(255, 255, 255, 0.2) !important;
          }

          &:hover fieldset {
            border-color: rgba(255, 255, 255, 0.35) !important;
          }

          &.Mui-focused fieldset {
            border-color: #f9a63b !important;
          }
        }

        .review-textarea :global(.MuiInputBase-input) {
          min-height: 180px !important;
          box-sizing: border-box !important;
        }

        .review-input :global(.MuiInputBase-input),
        .review-textarea :global(.MuiInputBase-input),
        .review-textarea textarea {
          color: #e4e4e4 !important;
        }

        .review-textarea textarea,
        .review-form textarea {
          background-color:  #1B253B !important;
          min-height: 180px !important;
          box-sizing: border-box !important;
        }

        .review-form :global(.MuiOutlinedInput-root) {
          background-color: transparent !important;
        }

        .review-input :global(.MuiInputBase-input)::placeholder,
        .review-textarea :global(.MuiInputBase-input)::placeholder,
        .review-textarea textarea::placeholder {
          color: #fff !important;
        }

        .review-textarea textarea::-webkit-input-placeholder,
        .review-textarea :global(.MuiInputBase-input)::-webkit-input-placeholder {
          color: #fff !important;
        }
        .review-textarea textarea::-moz-placeholder,
        .review-textarea :global(.MuiInputBase-input)::-moz-placeholder {
          color: #fff !important;
        }
        .review-textarea textarea:-ms-input-placeholder,
        .review-textarea :global(.MuiInputBase-input):-ms-input-placeholder {
          color: #fff !important;
        }
        .review-textarea textarea::placeholder,
        .review-textarea :global(.MuiInputBase-input)::placeholder {
          color: #fff !important;
        }

        .review-submit-btn {
          background-color: #252525 !important;
          color: #e4e4e4 !important;
          border-color: rgba(255, 255, 255, 0.3) !important;

          &:hover {
            background-color: #f9a63b !important;
            color: #1e1e1e !important;
            border-color: #f9a63b !important;
          }
        }

        .MuiIconButton-root {
          color: #b0b0b0 !important;

          &:hover {
            color: #f9a63b !important;
          }
        }
      }
    }

    /* Recommended products — popular-watches-section (detail.tsx) */
    .popular-watches-section {
      background-color:  #1c222f !important;
      color: #e4e4e4;

      .section-title {
        color: #e4e4e4 !important;
      }

      .popular-watches-grid {
        .empty-text {
          color: #b0b0b0 !important;
        }
      }
    }

    .popular-watch-card {
      background-color:  #263351 !important;
      border: 1px solid rgba(255, 255, 255, 0.12);

      &:hover {
        background-color: #2d2d2d !important;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
      }

      .action-btn {
        background: rgba(255, 255, 255, 0.1) !important;

        svg {
          color: #e4e4e4 !important;
        }

        &:hover svg {
          color: #f9a63b !important;
        }

        &.action-btn-liked {
          svg {
            color: #f9a63b !important;
          }
        }
      }

      .text-box {
        .brand {
          color: #e4e4e4 !important;
        }
        .model {
          color: #d4af37 !important;
        }
        .price {
          color: #e57373 !important;
        }
      }
    }

    .empty-text {
      color: #b0b0b0 !important;
    }
  }

  .mypage-article-card,
  .mypage-watch-item,
  .mypage-followers-box,
  .mypage-article-header,
  .mypage-article-body {
    background-color: #252525 !important;
    border-color: rgba(255, 255, 255, 0.08);
  }

  .mypage-profile-role,
  .mypage-article-type,
  .mypage-article-date,
  .mypage-article-title-text,
  .mypage-article-excerpt-text,
  .mypage-watch-name,
  .detail-label,
  .detail-value,
  .MuiTypography-root {
    color: #e4e4e4 !important;
  }

  .mypage-article-read-more-text,
  .mypage-article-action-count,
  .mypage-watches-empty-message {
    color: #b0b0b0 !important;
  }

  input,
  textarea,
  .MuiOutlinedInput-input {
    background-color: rgba(255, 255, 255, 0.05) !important;
    color: #e4e4e4 !important;
    border-color: rgba(255, 255, 255, 0.23) !important;
  }

  .MuiPaper-root,
  .MuiCard-root {
    background-color: #252525 !important;
    color: #e4e4e4;
  }

  .MuiButton-outlined {
    border-color: rgba(255, 255, 255, 0.5);
    color: #e4e4e4;
  }
}
